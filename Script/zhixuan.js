/**************************************
@Name：知轩 签到
@Author：Sliverkiss
@Date：2023-10-10 12:17:56

网址入口：https://zxcstxt.com

青龙：
使用方法：抓取yuchenios.com域名下签到的cookie填写到zhixuan_data，多账号用 @ 分隔
脚本兼容：Surge、QuantumultX、Loon、Shadowrocket、Node.js
只测试过loon和青龙，其它环境请自行尝试

Surge、QuantumultX、Loon、Shadowrocket:
使用方法：
1.将获取ck脚本保存到本地
2.登录网站，打开个人中心，若提示获取ck成功则可以使用该脚本
3.关闭获取ck脚本，防止产生不必要的mitm
------------------------------------------
Loon
------------------------------------------
[Script]
cron "15 0 * * *" script-path=https://raw.githubusercontent.com/Sliverkiss/GoodNight/master/Script/zhixuan.js, timeout=300, tag=知轩
http-request ^https:\/\/zxcstxt\.com\/user\/ script-path=https://raw.githubusercontent.com/Sliverkiss/GoodNight/master/Script/zhixuan.js, timeout=10, tag=知轩获取token
[MITM]
hostname =zxcstxt.com
------------------------------------------
QuantumultX
------------------------------------------
[rewrite_local]
^https\:\/\/ios\.xiezhenge\.com\/user url script-request-header https://raw.githubusercontent.com/Sliverkiss/GoodNight/master/Script/zhixuan.js

[mitm]
hostname =zxcstxt.com


====================================
⚠️【免责声明】
------------------------------------------
1、此脚本仅用于学习研究，不保证其合法性、准确性、有效性，请根据情况自行判断，本人对此不承担任何保证责任。
2、由于此脚本仅用于学习研究，您必须在下载后 24 小时内将所有内容从您的计算机或手机或任何存储设备中完全删除，若违反规定引起任何事件本人对此均不负责。
3、请勿将此脚本用于任何商业或非法目的，若违反规定请自行对此负责。
4、此脚本涉及应用与本人无关，本人对因此引起的任何隐私泄漏或其他后果不承担任何责任。
5、本人对任何脚本引发的问题概不负责，包括但不限于由脚本错误引起的任何损失和损害。
6、如果任何单位或个人认为此脚本可能涉嫌侵犯其权利，应及时通知并提供身份证明，所有权证明，我们将在收到认证文件确认后删除此脚本。
7、所有直接或间接使用、查看此脚本的人均应该仔细阅读此声明。本人保留随时更改或补充此声明的权利。一旦您使用或复制了此脚本，即视为您已接受此免责声明。
******************************************/

// env.js 全局
const _0x5257dd=_0x17f5;(function(_0x4d6687,_0x66a2d3){const _0x13ee91=_0x17f5,_0x11d84d=_0x4d6687();while(!![]){try{const _0x5a6625=-parseInt(_0x13ee91(0x157))/0x1*(-parseInt(_0x13ee91(0x17a))/0x2)+-parseInt(_0x13ee91(0x1b8))/0x3*(-parseInt(_0x13ee91(0x17e))/0x4)+-parseInt(_0x13ee91(0x1a9))/0x5*(-parseInt(_0x13ee91(0x165))/0x6)+-parseInt(_0x13ee91(0x19e))/0x7*(-parseInt(_0x13ee91(0x18e))/0x8)+-parseInt(_0x13ee91(0x194))/0x9*(-parseInt(_0x13ee91(0x172))/0xa)+-parseInt(_0x13ee91(0x1a0))/0xb*(-parseInt(_0x13ee91(0x16a))/0xc)+-parseInt(_0x13ee91(0x15b))/0xd*(parseInt(_0x13ee91(0x154))/0xe);if(_0x5a6625===_0x66a2d3)break;else _0x11d84d['push'](_0x11d84d['shift']());}catch(_0x23713a){_0x11d84d['push'](_0x11d84d['shift']());}}}(_0xd133,0x5813d));function _0x17f5(_0x39e89a,_0x16cb5c){const _0xd13331=_0xd133();return _0x17f5=function(_0x17f57b,_0x54a5a0){_0x17f57b=_0x17f57b-0x10c;let _0x3ee905=_0xd13331[_0x17f57b];return _0x3ee905;},_0x17f5(_0x39e89a,_0x16cb5c);}const $=new Env('知轩'),ckName=_0x5257dd(0x166),Notify=0x1,notify=$[_0x5257dd(0x119)]()?require(_0x5257dd(0x1bb)):'';let envSplitor=['@'],userCookie=($[_0x5257dd(0x119)]()?process[_0x5257dd(0x173)][ckName]:$[_0x5257dd(0x162)](ckName))||'',userList=[],userIdx=0x0,userCount=0x0;$[_0x5257dd(0x17d)]=[],$[_0x5257dd(0x12a)]=($[_0x5257dd(0x119)]()?process['env']['bark_key']:$[_0x5257dd(0x162)](_0x5257dd(0x13d)))||'';async function main(){const _0x30fd61=_0x5257dd;console[_0x30fd61(0x11c)]('\x0a==================\x20任务\x20==================\x0a'),taskall=[];for(let _0x41b2ea of userList){_0x41b2ea[_0x30fd61(0x1ba)]?(DoubleLog('🔷账号'+_0x41b2ea[_0x30fd61(0x18d)]+_0x30fd61(0x177)),console['log']('随机延迟'+_0x41b2ea['getRandomTime']()+'ms'),taskall[_0x30fd61(0x176)](await _0x41b2ea['signin']()),await $['wait'](_0x41b2ea['getRandomTime']())):$[_0x30fd61(0x17d)]['push'](_0x30fd61(0x11b)+_0x41b2ea[_0x30fd61(0x18d)]+_0x30fd61(0x13f));}await Promise[_0x30fd61(0x19c)](taskall);}class UserInfo{constructor(_0x10fc22){const _0x4ca405=_0x5257dd;this['index']=++userIdx,this['ck']=_0x10fc22,this[_0x4ca405(0x1ba)]=!![],this[_0x4ca405(0x126)]={'User-Agent':_0x4ca405(0x1b2),'Cookie':this['ck'],'Content-Type':_0x4ca405(0x14d)},this['body']=_0x4ca405(0x161);}[_0x5257dd(0x132)](){return randomInt(0x3e8,0xbb8);}async[_0x5257dd(0x146)](){const _0x21827c=_0x5257dd;try{const _0xae73d1={'url':'https://zxcstxt.com/wp-admin/admin-ajax.php','headers':this[_0x21827c(0x126)],'body':this[_0x21827c(0x16e)]};let _0x5dda93=await httpRequest(_0xae73d1);_0x5dda93?.[_0x21827c(0x116)]==_0x21827c(0x116)?DoubleLog('✅'+_0x5dda93?.[_0x21827c(0x198)]):DoubleLog('🔶'+_0x5dda93?.[_0x21827c(0x198)]);}catch(_0x2ea27f){console['log'](_0x2ea27f);}}}async function getCookie(){const _0x22a852=_0x5257dd;if($request&&$request[_0x22a852(0x16f)]!=_0x22a852(0x1b7)){const _0x2d7c0e=$request[_0x22a852(0x126)]['Cookie']||$request['headers'][_0x22a852(0x19b)];_0x2d7c0e?($['setdata'](_0x2d7c0e,ckName),$[_0x22a852(0x198)]($[_0x22a852(0x149)],'','获取签到Cookie成功🎉')):$[_0x22a852(0x198)]($[_0x22a852(0x149)],'','错误获取签到Cookie失败');}}!(async()=>{const _0x5f258c=_0x5257dd;if(typeof $request!='undefined'){await getCookie();return;}if(!await checkEnv())throw new Error(_0x5f258c(0x183));;userList[_0x5f258c(0x158)]>0x0&&await main();$[_0x5f258c(0x12a)]&&await BarkNotify($,$[_0x5f258c(0x12a)],$[_0x5f258c(0x149)],$[_0x5f258c(0x17d)]['join']('\x0a'));;})()[_0x5257dd(0x1b3)](_0x5e3a6b=>$['notifyMsg']['push'](_0x5e3a6b[_0x5257dd(0x15c)]||_0x5e3a6b))[_0x5257dd(0x14b)](async()=>{const _0x2e3f3f=_0x5257dd;await SendMsg($[_0x2e3f3f(0x17d)][_0x2e3f3f(0x148)]('\x0a')),$[_0x2e3f3f(0x193)]();});function DoubleLog(_0xbe91e7){const _0x3c18f6=_0x5257dd;$['isNode']()?_0xbe91e7&&(console[_0x3c18f6(0x11c)](''+_0xbe91e7),$[_0x3c18f6(0x17d)][_0x3c18f6(0x176)](''+_0xbe91e7)):(console['log'](''+_0xbe91e7),$[_0x3c18f6(0x17d)][_0x3c18f6(0x176)](''+_0xbe91e7));}function toParams(_0xd01b4c){const _0x1a1698=_0x5257dd;var _0x3d7ffa=Object[_0x1a1698(0x111)](_0xd01b4c)[_0x1a1698(0x156)](function(_0xee138a){return encodeURIComponent(_0xee138a)+'='+encodeURIComponent(_0xd01b4c[_0xee138a]);})[_0x1a1698(0x148)]('&');return _0x3d7ffa;}async function checkEnv(){const _0x22b09e=_0x5257dd;if(userCookie){let _0x286062=envSplitor[0x0];for(let _0x5a1a7e of envSplitor)if(userCookie[_0x22b09e(0x171)](_0x5a1a7e)>-0x1){_0x286062=_0x5a1a7e;break;}for(let _0x470601 of userCookie['split'](_0x286062))_0x470601&&userList[_0x22b09e(0x176)](new UserInfo(_0x470601));userCount=userList[_0x22b09e(0x158)];}else{console[_0x22b09e(0x11c)]('未找到CK');return;}return console[_0x22b09e(0x11c)](_0x22b09e(0x168)+userCount+_0x22b09e(0x1b4)),!![];}function randomInt(_0x36590a,_0x17eb34){const _0x48e7af=_0x5257dd;return Math[_0x48e7af(0x195)](Math['random']()*(_0x17eb34-_0x36590a)+_0x36590a);}async function SendMsg(_0x42934c){const _0xc55bc5=_0x5257dd;if(!_0x42934c)return;Notify>0x0?$[_0xc55bc5(0x119)]()?await notify[_0xc55bc5(0x147)]($[_0xc55bc5(0x149)],_0x42934c):$[_0xc55bc5(0x198)]($[_0xc55bc5(0x149)],'',_0x42934c):console[_0xc55bc5(0x11c)](_0x42934c);}function httpRequest(_0xcd971e,_0x13ccfd){const _0xd6a0f=_0x5257dd;return typeof _0x13ccfd===_0xd6a0f(0x15a)?_0xd6a0f(0x16e)in _0xcd971e?_0x13ccfd=_0xd6a0f(0x197):_0x13ccfd='get':_0x13ccfd=_0x13ccfd,new Promise(_0x3b81a6=>{$[_0x13ccfd](_0xcd971e,(_0x384496,_0x5db7e5,_0x6bc252)=>{const _0x44f252=_0x17f5;try{_0x384496?(console[_0x44f252(0x11c)](_0x13ccfd+'请求失败'),$[_0x44f252(0x1ad)](_0x384496)):_0x6bc252?(typeof JSON[_0x44f252(0x10e)](_0x6bc252)==_0x44f252(0x137)?_0x6bc252=JSON['parse'](_0x6bc252):_0x6bc252=_0x6bc252,_0x3b81a6(_0x6bc252)):console['log'](_0x44f252(0x110));}catch(_0x178fd7){$[_0x44f252(0x1ad)](_0x178fd7,_0x5db7e5);}finally{_0x3b81a6();}});});}async function BarkNotify(_0x33a0bd,_0x13daa9,_0x40a04a,_0xa7f7d9){const _0xd897e4=_0x5257dd;for(let _0x17ac89=0x0;_0x17ac89<0x3;_0x17ac89++){console['log'](_0xd897e4(0x155)+(_0x17ac89+0x1)+')');const _0x4bb1f0=await new Promise(_0x2a1172=>{const _0x3bd23d=_0xd897e4;_0x33a0bd[_0x3bd23d(0x197)]({'url':_0x3bd23d(0x1a5),'headers':{'Content-Type':'application/json'},'body':JSON[_0x3bd23d(0x122)]({'title':_0x40a04a,'body':_0xa7f7d9,'device_key':_0x13daa9,'ext_params':{'group':_0x40a04a}})},(_0x46aaf2,_0x5c7b59,_0x39c901)=>_0x5c7b59&&_0x5c7b59[_0x3bd23d(0x11e)]==0xc8?_0x2a1172(0x1):_0x2a1172(_0x39c901||_0x46aaf2));});if(_0x4bb1f0===0x1){console[_0xd897e4(0x11c)](_0xd897e4(0x164));break;}else console[_0xd897e4(0x11c)](_0xd897e4(0x144)+(_0x4bb1f0[_0xd897e4(0x15c)]||_0x4bb1f0));}};function _0xd133(){const _0x1215ff=['body','method','exit','indexOf','496910Pnluec','env','logSeparator','get','push','\x20>>\x20Start\x20work','cookieJar','tough-cookie','26FOaAfR','set-cookie','toString','notifyMsg','4RPAMbm','valueForKey','loaddata','statusCode','Content-Type','❌未检测到ck，请添加环境变量','ckjar','open-url','getSeconds','encoding','got','timeout','writedata','writeFileSync',',\x20错误!','index','159184CPyUZS','split','isMute','surge-version','getFullYear','done','36VLMqfW','round','call','post','msg','cktough','Stash','cookie','all','startTime','161bwzGAo','isMuteLog','5379rknUbX','isStash','cron','content-type','initGotEnv','https://api.day.app/push','lodash_get','redirect','Quantumult\x20X','5FXKSZL','setdata','then','getMonth','logErr','mediaUrl','getval','isQuanX','getHours','StormSniffer-Extension/2254\x20CFNetwork/1327.0.4\x20Darwin/21.2.0','catch','个账号','openUrl','isNeedRewrite','OPTIONS','1784691xFLxZh','params','ckStatus','./sendNotify','isArray','getTime','dataFile','Surge','send','stash-version','/v1/scripting/evaluate','parse','time','请求api返回数据为空，请检查自身原因','keys','http','CookieJar','exports','getScript','success','content-length','iconv-lite','isNode','error','❌账号','log','toLocaleLowerCase','status','getDate','decode','resolve','stringify','exec','existsSync','test','headers','runScript','update-pasteboard','setCookieSync','barkKey','@chavy_boxjs_userCfgs.httpapi','getjson','@chavy_boxjs_userCfgs.httpapi_timeout','*/*',',\x20结束!\x20🕛\x20','Loon','lodash_set','getRandomTime','readFileSync','UndefinedError','isShadowrocket','setjson','object','POST','match','setval','Cookie','replace','bark_key','write','\x20>>\x20Check\x20ck\x20error!','path','substring','application/x-www-form-urlencoded','read','❌Push\x20failed!\x20>>\x20','getEnv','signin','sendNotify','join','name','assign','finally','toObj','application/x-www-form-urlencoded;\x20charset=utf-8','.$1','data','toStr','url','getMilliseconds','Shadowrocket','557942aMWfES','🔷Bark\x20notify\x20>>\x20Start\x20push\x20(','map','25941dMvVij','length','logs','undefined','585uZpGrY','message','string','isSurge','utf-8','queryStr','action=daily_sign','getdata','reduce','✅Push\x20success!','2633706XSxHex','zhixuan_data','cwd','共找到','Node.js','3108wtaXMs','opts','Content-Length','fetch'];_0xd133=function(){return _0x1215ff;};return _0xd133();}function Env(_0x2f283e,_0x28cae0){const _0xa90c4=_0x5257dd;class _0x180233{constructor(_0x48232e){const _0x434b07=_0x17f5;this[_0x434b07(0x173)]=_0x48232e;}[_0xa90c4(0x1c0)](_0x3d3a3c,_0x56871d='GET'){const _0x51e3b1=_0xa90c4;_0x3d3a3c=_0x51e3b1(0x15d)==typeof _0x3d3a3c?{'url':_0x3d3a3c}:_0x3d3a3c;let _0x38a00e=this[_0x51e3b1(0x175)];return _0x51e3b1(0x138)===_0x56871d&&(_0x38a00e=this[_0x51e3b1(0x197)]),new Promise((_0x113556,_0x56b892)=>{_0x38a00e['call'](this,_0x3d3a3c,(_0x131d1b,_0x4eb94e,_0x1dde38)=>{_0x131d1b?_0x56b892(_0x131d1b):_0x113556(_0x4eb94e);});});}[_0xa90c4(0x175)](_0x162e92){const _0x58cb45=_0xa90c4;return this[_0x58cb45(0x1c0)][_0x58cb45(0x196)](this['env'],_0x162e92);}[_0xa90c4(0x197)](_0x1c0c70){const _0x12eda9=_0xa90c4;return this[_0x12eda9(0x1c0)]['call'](this[_0x12eda9(0x173)],_0x1c0c70,_0x12eda9(0x138));}}return new class{constructor(_0x24953d,_0x4a2785){const _0x552b96=_0xa90c4;this[_0x552b96(0x149)]=_0x24953d,this[_0x552b96(0x112)]=new _0x180233(this),this[_0x552b96(0x14f)]=null,this[_0x552b96(0x1be)]='box.dat',this[_0x552b96(0x159)]=[],this[_0x552b96(0x190)]=!0x1,this['isNeedRewrite']=!0x1,this[_0x552b96(0x174)]='\x0a',this[_0x552b96(0x187)]=_0x552b96(0x15f),this[_0x552b96(0x19d)]=new Date()[_0x552b96(0x1bd)](),Object['assign'](this,_0x4a2785),this[_0x552b96(0x11c)]('','🔔'+this[_0x552b96(0x149)]+',\x20开始!');}['getEnv'](){const _0x51e0f6=_0xa90c4;return _0x51e0f6(0x15a)!=typeof $environment&&$environment[_0x51e0f6(0x191)]?_0x51e0f6(0x1bf):_0x51e0f6(0x15a)!=typeof $environment&&$environment[_0x51e0f6(0x10c)]?_0x51e0f6(0x19a):'undefined'!=typeof module&&module[_0x51e0f6(0x114)]?_0x51e0f6(0x169):_0x51e0f6(0x15a)!=typeof $task?_0x51e0f6(0x1a8):'undefined'!=typeof $loon?_0x51e0f6(0x130):'undefined'!=typeof $rocket?_0x51e0f6(0x153):void 0x0;}[_0xa90c4(0x119)](){const _0x55c158=_0xa90c4;return'Node.js'===this[_0x55c158(0x145)]();}[_0xa90c4(0x1b0)](){const _0xf77365=_0xa90c4;return _0xf77365(0x1a8)===this[_0xf77365(0x145)]();}[_0xa90c4(0x15e)](){const _0x2af7b9=_0xa90c4;return _0x2af7b9(0x1bf)===this[_0x2af7b9(0x145)]();}['isLoon'](){const _0x3c5c7d=_0xa90c4;return _0x3c5c7d(0x130)===this[_0x3c5c7d(0x145)]();}[_0xa90c4(0x135)](){const _0x29a928=_0xa90c4;return _0x29a928(0x153)===this[_0x29a928(0x145)]();}[_0xa90c4(0x1a1)](){const _0x3b8776=_0xa90c4;return'Stash'===this[_0x3b8776(0x145)]();}[_0xa90c4(0x14c)](_0x4ff2b9,_0x14a3cb=null){const _0x48385e=_0xa90c4;try{return JSON[_0x48385e(0x10e)](_0x4ff2b9);}catch{return _0x14a3cb;}}[_0xa90c4(0x150)](_0x2c62dc,_0x58fc48=null){const _0xb18bdd=_0xa90c4;try{return JSON[_0xb18bdd(0x122)](_0x2c62dc);}catch{return _0x58fc48;}}[_0xa90c4(0x12c)](_0x42ddba,_0x4abaa5){const _0x41c75c=_0xa90c4;let _0x32880a=_0x4abaa5;const _0x5b26ac=this['getdata'](_0x42ddba);if(_0x5b26ac)try{_0x32880a=JSON['parse'](this[_0x41c75c(0x162)](_0x42ddba));}catch{}return _0x32880a;}[_0xa90c4(0x136)](_0x59102d,_0x30db1e){try{return this['setdata'](JSON['stringify'](_0x59102d),_0x30db1e);}catch{return!0x1;}}[_0xa90c4(0x115)](_0x5b49ad){return new Promise(_0x3730e1=>{this['get']({'url':_0x5b49ad},(_0x43243e,_0x539219,_0x3e43d6)=>_0x3730e1(_0x3e43d6));});}[_0xa90c4(0x127)](_0x4daf99,_0x5b0a25){const _0x785580=_0xa90c4;return new Promise(_0x18002e=>{const _0xdd4f5e=_0x17f5;let _0x1c2d4e=this[_0xdd4f5e(0x162)](_0xdd4f5e(0x12b));_0x1c2d4e=_0x1c2d4e?_0x1c2d4e[_0xdd4f5e(0x13c)](/\n/g,'')['trim']():_0x1c2d4e;let _0x10e1db=this[_0xdd4f5e(0x162)](_0xdd4f5e(0x12d));_0x10e1db=_0x10e1db?0x1*_0x10e1db:0x14,_0x10e1db=_0x5b0a25&&_0x5b0a25['timeout']?_0x5b0a25[_0xdd4f5e(0x189)]:_0x10e1db;const [_0x146b6e,_0x2c9b9a]=_0x1c2d4e['split']('@'),_0x4c82c0={'url':'http://'+_0x2c9b9a+_0xdd4f5e(0x10d),'body':{'script_text':_0x4daf99,'mock_type':_0xdd4f5e(0x1a2),'timeout':_0x10e1db},'headers':{'X-Key':_0x146b6e,'Accept':_0xdd4f5e(0x12e)},'timeout':_0x10e1db};this[_0xdd4f5e(0x197)](_0x4c82c0,(_0x4250af,_0x1d2928,_0x260c30)=>_0x18002e(_0x260c30));})[_0x785580(0x1b3)](_0x1b4484=>this['logErr'](_0x1b4484));}[_0xa90c4(0x180)](){const _0x2f6012=_0xa90c4;if(!this[_0x2f6012(0x119)]())return{};{this['fs']=this['fs']?this['fs']:require('fs'),this[_0x2f6012(0x140)]=this[_0x2f6012(0x140)]?this['path']:require('path');const _0x108b66=this[_0x2f6012(0x140)][_0x2f6012(0x121)](this[_0x2f6012(0x1be)]),_0x42100b=this['path']['resolve'](process['cwd'](),this[_0x2f6012(0x1be)]),_0x421bc9=this['fs'][_0x2f6012(0x124)](_0x108b66),_0xa9c7d6=!_0x421bc9&&this['fs'][_0x2f6012(0x124)](_0x42100b);if(!_0x421bc9&&!_0xa9c7d6)return{};{const _0x2b2c34=_0x421bc9?_0x108b66:_0x42100b;try{return JSON[_0x2f6012(0x10e)](this['fs'][_0x2f6012(0x133)](_0x2b2c34));}catch(_0x5e1436){return{};}}}}[_0xa90c4(0x18a)](){const _0x5e1583=_0xa90c4;if(this[_0x5e1583(0x119)]()){this['fs']=this['fs']?this['fs']:require('fs'),this[_0x5e1583(0x140)]=this[_0x5e1583(0x140)]?this[_0x5e1583(0x140)]:require('path');const _0x446f57=this[_0x5e1583(0x140)][_0x5e1583(0x121)](this['dataFile']),_0x4a13e2=this[_0x5e1583(0x140)][_0x5e1583(0x121)](process[_0x5e1583(0x167)](),this['dataFile']),_0x150ada=this['fs'][_0x5e1583(0x124)](_0x446f57),_0x17e9a7=!_0x150ada&&this['fs'][_0x5e1583(0x124)](_0x4a13e2),_0x2a7c35=JSON['stringify'](this[_0x5e1583(0x14f)]);_0x150ada?this['fs']['writeFileSync'](_0x446f57,_0x2a7c35):_0x17e9a7?this['fs'][_0x5e1583(0x18b)](_0x4a13e2,_0x2a7c35):this['fs'][_0x5e1583(0x18b)](_0x446f57,_0x2a7c35);}}[_0xa90c4(0x1a6)](_0x25d2c8,_0x38327c,_0x1eccea){const _0x1ce4cb=_0xa90c4,_0x398ad4=_0x38327c[_0x1ce4cb(0x13c)](/\[(\d+)\]/g,_0x1ce4cb(0x14e))[_0x1ce4cb(0x18f)]('.');let _0x3fe165=_0x25d2c8;for(const _0x453da1 of _0x398ad4)if(_0x3fe165=Object(_0x3fe165)[_0x453da1],void 0x0===_0x3fe165)return _0x1eccea;return _0x3fe165;}['lodash_set'](_0x3c2902,_0x307cf1,_0x2fef57){const _0x4cd7c7=_0xa90c4;return Object(_0x3c2902)!==_0x3c2902?_0x3c2902:(Array[_0x4cd7c7(0x1bc)](_0x307cf1)||(_0x307cf1=_0x307cf1[_0x4cd7c7(0x17c)]()[_0x4cd7c7(0x139)](/[^.[\]]+/g)||[]),_0x307cf1['slice'](0x0,-0x1)[_0x4cd7c7(0x163)]((_0x4e7e86,_0xfbe5b0,_0xdd7e4e)=>Object(_0x4e7e86[_0xfbe5b0])===_0x4e7e86[_0xfbe5b0]?_0x4e7e86[_0xfbe5b0]:_0x4e7e86[_0xfbe5b0]=Math['abs'](_0x307cf1[_0xdd7e4e+0x1])>>0x0==+_0x307cf1[_0xdd7e4e+0x1]?[]:{},_0x3c2902)[_0x307cf1[_0x307cf1[_0x4cd7c7(0x158)]-0x1]]=_0x2fef57,_0x3c2902);}[_0xa90c4(0x162)](_0x535919){const _0x4fa10e=_0xa90c4;let _0x1502e3=this[_0x4fa10e(0x1af)](_0x535919);if(/^@/['test'](_0x535919)){const [,_0x240759,_0x30a7d0]=/^@(.*?)\.(.*?)$/[_0x4fa10e(0x123)](_0x535919),_0x394c1d=_0x240759?this[_0x4fa10e(0x1af)](_0x240759):'';if(_0x394c1d)try{const _0x53301f=JSON['parse'](_0x394c1d);_0x1502e3=_0x53301f?this['lodash_get'](_0x53301f,_0x30a7d0,''):_0x1502e3;}catch(_0x3379bb){_0x1502e3='';}}return _0x1502e3;}[_0xa90c4(0x1aa)](_0x1639df,_0x3a7fd2){const _0x4a0d71=_0xa90c4;let _0x441fe9=!0x1;if(/^@/[_0x4a0d71(0x125)](_0x3a7fd2)){const [,_0x221a3d,_0x53e393]=/^@(.*?)\.(.*?)$/[_0x4a0d71(0x123)](_0x3a7fd2),_0x5d536f=this[_0x4a0d71(0x1af)](_0x221a3d),_0x326548=_0x221a3d?'null'===_0x5d536f?null:_0x5d536f||'{}':'{}';try{const _0x182989=JSON[_0x4a0d71(0x10e)](_0x326548);this[_0x4a0d71(0x131)](_0x182989,_0x53e393,_0x1639df),_0x441fe9=this['setval'](JSON[_0x4a0d71(0x122)](_0x182989),_0x221a3d);}catch(_0x48e52a){const _0xda9ad={};this['lodash_set'](_0xda9ad,_0x53e393,_0x1639df),_0x441fe9=this['setval'](JSON[_0x4a0d71(0x122)](_0xda9ad),_0x221a3d);}}else _0x441fe9=this[_0x4a0d71(0x13a)](_0x1639df,_0x3a7fd2);return _0x441fe9;}[_0xa90c4(0x1af)](_0x1f4709){const _0x1a3c8e=_0xa90c4;switch(this[_0x1a3c8e(0x145)]()){case _0x1a3c8e(0x1bf):case _0x1a3c8e(0x130):case _0x1a3c8e(0x19a):case _0x1a3c8e(0x153):return $persistentStore[_0x1a3c8e(0x143)](_0x1f4709);case _0x1a3c8e(0x1a8):return $prefs[_0x1a3c8e(0x17f)](_0x1f4709);case _0x1a3c8e(0x169):return this[_0x1a3c8e(0x14f)]=this[_0x1a3c8e(0x180)](),this['data'][_0x1f4709];default:return this[_0x1a3c8e(0x14f)]&&this['data'][_0x1f4709]||null;}}[_0xa90c4(0x13a)](_0x3f9463,_0x42d215){const _0x138781=_0xa90c4;switch(this[_0x138781(0x145)]()){case _0x138781(0x1bf):case'Loon':case _0x138781(0x19a):case _0x138781(0x153):return $persistentStore[_0x138781(0x13e)](_0x3f9463,_0x42d215);case'Quantumult\x20X':return $prefs['setValueForKey'](_0x3f9463,_0x42d215);case _0x138781(0x169):return this[_0x138781(0x14f)]=this[_0x138781(0x180)](),this[_0x138781(0x14f)][_0x42d215]=_0x3f9463,this[_0x138781(0x18a)](),!0x0;default:return this[_0x138781(0x14f)]&&this['data'][_0x42d215]||null;}}[_0xa90c4(0x1a4)](_0x3b1eed){const _0x25375e=_0xa90c4;this['got']=this['got']?this[_0x25375e(0x188)]:require(_0x25375e(0x188)),this[_0x25375e(0x199)]=this[_0x25375e(0x199)]?this[_0x25375e(0x199)]:require(_0x25375e(0x179)),this[_0x25375e(0x184)]=this[_0x25375e(0x184)]?this['ckjar']:new this[(_0x25375e(0x199))][(_0x25375e(0x113))](),_0x3b1eed&&(_0x3b1eed[_0x25375e(0x126)]=_0x3b1eed[_0x25375e(0x126)]?_0x3b1eed[_0x25375e(0x126)]:{},void 0x0===_0x3b1eed[_0x25375e(0x126)][_0x25375e(0x13b)]&&void 0x0===_0x3b1eed[_0x25375e(0x178)]&&(_0x3b1eed[_0x25375e(0x178)]=this[_0x25375e(0x184)]));}[_0xa90c4(0x175)](_0x31f412,_0x1f972e=()=>{}){const _0x21388b=_0xa90c4;switch(_0x31f412[_0x21388b(0x126)]&&(delete _0x31f412['headers'][_0x21388b(0x182)],delete _0x31f412[_0x21388b(0x126)][_0x21388b(0x16c)],delete _0x31f412[_0x21388b(0x126)][_0x21388b(0x1a3)],delete _0x31f412['headers'][_0x21388b(0x117)]),_0x31f412[_0x21388b(0x1b9)]&&(_0x31f412[_0x21388b(0x151)]+='?'+this[_0x21388b(0x160)](_0x31f412[_0x21388b(0x1b9)])),this[_0x21388b(0x145)]()){case _0x21388b(0x1bf):case _0x21388b(0x130):case _0x21388b(0x19a):case _0x21388b(0x153):default:this[_0x21388b(0x15e)]()&&this['isNeedRewrite']&&(_0x31f412['headers']=_0x31f412[_0x21388b(0x126)]||{},Object[_0x21388b(0x14a)](_0x31f412['headers'],{'X-Surge-Skip-Scripting':!0x1})),$httpClient[_0x21388b(0x175)](_0x31f412,(_0x31427e,_0x12131d,_0x3a4979)=>{const _0x4ea955=_0x21388b;!_0x31427e&&_0x12131d&&(_0x12131d[_0x4ea955(0x16e)]=_0x3a4979,_0x12131d[_0x4ea955(0x181)]=_0x12131d[_0x4ea955(0x11e)]?_0x12131d[_0x4ea955(0x11e)]:_0x12131d[_0x4ea955(0x181)],_0x12131d['status']=_0x12131d[_0x4ea955(0x181)]),_0x1f972e(_0x31427e,_0x12131d,_0x3a4979);});break;case _0x21388b(0x1a8):this['isNeedRewrite']&&(_0x31f412[_0x21388b(0x16b)]=_0x31f412['opts']||{},Object[_0x21388b(0x14a)](_0x31f412[_0x21388b(0x16b)],{'hints':!0x1})),$task[_0x21388b(0x16d)](_0x31f412)[_0x21388b(0x1ab)](_0x124913=>{const {statusCode:_0x54877e,statusCode:_0x5e0dde,headers:_0x1438c5,body:_0x280cd2,bodyBytes:_0x2d7e95}=_0x124913;_0x1f972e(null,{'status':_0x54877e,'statusCode':_0x5e0dde,'headers':_0x1438c5,'body':_0x280cd2,'bodyBytes':_0x2d7e95},_0x280cd2,_0x2d7e95);},_0x97700=>_0x1f972e(_0x97700&&_0x97700['error']||_0x21388b(0x134)));break;case _0x21388b(0x169):let _0x31cf8c=require(_0x21388b(0x118));this[_0x21388b(0x1a4)](_0x31f412),this[_0x21388b(0x188)](_0x31f412)['on'](_0x21388b(0x1a7),(_0x4c7da2,_0x4f9eb4)=>{const _0x1d6ca4=_0x21388b;try{if(_0x4c7da2[_0x1d6ca4(0x126)][_0x1d6ca4(0x17b)]){const _0x2b0688=_0x4c7da2[_0x1d6ca4(0x126)][_0x1d6ca4(0x17b)][_0x1d6ca4(0x156)](this['cktough'][_0x1d6ca4(0x13b)][_0x1d6ca4(0x10e)])['toString']();_0x2b0688&&this[_0x1d6ca4(0x184)][_0x1d6ca4(0x129)](_0x2b0688,null),_0x4f9eb4[_0x1d6ca4(0x178)]=this['ckjar'];}}catch(_0x5d30ca){this['logErr'](_0x5d30ca);}})['then'](_0x598af2=>{const _0x1fd48c=_0x21388b,{statusCode:_0x51e966,statusCode:_0x32c57d,headers:_0x58b34,rawBody:_0x3cc5ea}=_0x598af2,_0x949d7b=_0x31cf8c[_0x1fd48c(0x120)](_0x3cc5ea,this[_0x1fd48c(0x187)]);_0x1f972e(null,{'status':_0x51e966,'statusCode':_0x32c57d,'headers':_0x58b34,'rawBody':_0x3cc5ea,'body':_0x949d7b},_0x949d7b);},_0x47c0e0=>{const _0x489b3d=_0x21388b,{message:_0x735780,response:_0x1a375c}=_0x47c0e0;_0x1f972e(_0x735780,_0x1a375c,_0x1a375c&&_0x31cf8c[_0x489b3d(0x120)](_0x1a375c['rawBody'],this[_0x489b3d(0x187)]));});}}[_0xa90c4(0x197)](_0x4eeebd,_0x3cf6ab=()=>{}){const _0x1eee2f=_0xa90c4,_0x430f6b=_0x4eeebd[_0x1eee2f(0x16f)]?_0x4eeebd[_0x1eee2f(0x16f)][_0x1eee2f(0x11d)]():_0x1eee2f(0x197);switch(_0x4eeebd['body']&&_0x4eeebd[_0x1eee2f(0x126)]&&!_0x4eeebd[_0x1eee2f(0x126)]['Content-Type']&&!_0x4eeebd['headers'][_0x1eee2f(0x1a3)]&&(_0x4eeebd[_0x1eee2f(0x126)][_0x1eee2f(0x1a3)]=_0x1eee2f(0x142)),_0x4eeebd['headers']&&(delete _0x4eeebd[_0x1eee2f(0x126)][_0x1eee2f(0x16c)],delete _0x4eeebd[_0x1eee2f(0x126)][_0x1eee2f(0x117)]),this[_0x1eee2f(0x145)]()){case _0x1eee2f(0x1bf):case _0x1eee2f(0x130):case'Stash':case _0x1eee2f(0x153):default:this[_0x1eee2f(0x15e)]()&&this[_0x1eee2f(0x1b6)]&&(_0x4eeebd[_0x1eee2f(0x126)]=_0x4eeebd['headers']||{},Object[_0x1eee2f(0x14a)](_0x4eeebd[_0x1eee2f(0x126)],{'X-Surge-Skip-Scripting':!0x1})),$httpClient[_0x430f6b](_0x4eeebd,(_0x249cc4,_0x542015,_0x2f1a1c)=>{const _0x2c3fae=_0x1eee2f;!_0x249cc4&&_0x542015&&(_0x542015[_0x2c3fae(0x16e)]=_0x2f1a1c,_0x542015[_0x2c3fae(0x181)]=_0x542015[_0x2c3fae(0x11e)]?_0x542015[_0x2c3fae(0x11e)]:_0x542015[_0x2c3fae(0x181)],_0x542015[_0x2c3fae(0x11e)]=_0x542015['statusCode']),_0x3cf6ab(_0x249cc4,_0x542015,_0x2f1a1c);});break;case'Quantumult\x20X':_0x4eeebd[_0x1eee2f(0x16f)]=_0x430f6b,this[_0x1eee2f(0x1b6)]&&(_0x4eeebd[_0x1eee2f(0x16b)]=_0x4eeebd[_0x1eee2f(0x16b)]||{},Object[_0x1eee2f(0x14a)](_0x4eeebd['opts'],{'hints':!0x1})),$task['fetch'](_0x4eeebd)[_0x1eee2f(0x1ab)](_0x19fa1e=>{const {statusCode:_0x34618a,statusCode:_0x48053d,headers:_0x2f8a8a,body:_0x5e6dd1,bodyBytes:_0x53d495}=_0x19fa1e;_0x3cf6ab(null,{'status':_0x34618a,'statusCode':_0x48053d,'headers':_0x2f8a8a,'body':_0x5e6dd1,'bodyBytes':_0x53d495},_0x5e6dd1,_0x53d495);},_0x1c2df7=>_0x3cf6ab(_0x1c2df7&&_0x1c2df7[_0x1eee2f(0x11a)]||'UndefinedError'));break;case _0x1eee2f(0x169):let _0x239236=require(_0x1eee2f(0x118));this[_0x1eee2f(0x1a4)](_0x4eeebd);const {url:_0x241260,..._0x1de68b}=_0x4eeebd;this[_0x1eee2f(0x188)][_0x430f6b](_0x241260,_0x1de68b)[_0x1eee2f(0x1ab)](_0x37383d=>{const _0xc1d338=_0x1eee2f,{statusCode:_0xc19a56,statusCode:_0x286f6b,headers:_0x4131ca,rawBody:_0x5a92ea}=_0x37383d,_0x1157ab=_0x239236[_0xc1d338(0x120)](_0x5a92ea,this[_0xc1d338(0x187)]);_0x3cf6ab(null,{'status':_0xc19a56,'statusCode':_0x286f6b,'headers':_0x4131ca,'rawBody':_0x5a92ea,'body':_0x1157ab},_0x1157ab);},_0xf59e0f=>{const _0x5ccca9=_0x1eee2f,{message:_0x144b8d,response:_0x3dba8a}=_0xf59e0f;_0x3cf6ab(_0x144b8d,_0x3dba8a,_0x3dba8a&&_0x239236[_0x5ccca9(0x120)](_0x3dba8a['rawBody'],this[_0x5ccca9(0x187)]));});}}[_0xa90c4(0x10f)](_0x3a1eb9,_0xebfac5=null){const _0x74203=_0xa90c4,_0x64e0e2=_0xebfac5?new Date(_0xebfac5):new Date();let _0x25aa61={'M+':_0x64e0e2['getMonth']()+0x1,'d+':_0x64e0e2[_0x74203(0x11f)](),'H+':_0x64e0e2[_0x74203(0x1b1)](),'m+':_0x64e0e2['getMinutes'](),'s+':_0x64e0e2[_0x74203(0x186)](),'q+':Math['floor']((_0x64e0e2[_0x74203(0x1ac)]()+0x3)/0x3),'S':_0x64e0e2[_0x74203(0x152)]()};/(y+)/[_0x74203(0x125)](_0x3a1eb9)&&(_0x3a1eb9=_0x3a1eb9[_0x74203(0x13c)](RegExp['$1'],(_0x64e0e2[_0x74203(0x192)]()+'')['substr'](0x4-RegExp['$1'][_0x74203(0x158)])));for(let _0x526d2a in _0x25aa61)new RegExp('('+_0x526d2a+')')['test'](_0x3a1eb9)&&(_0x3a1eb9=_0x3a1eb9[_0x74203(0x13c)](RegExp['$1'],0x1==RegExp['$1']['length']?_0x25aa61[_0x526d2a]:('00'+_0x25aa61[_0x526d2a])['substr']((''+_0x25aa61[_0x526d2a])[_0x74203(0x158)])));return _0x3a1eb9;}[_0xa90c4(0x160)](_0x442c74){const _0x591e2c=_0xa90c4;let _0x59e808='';for(const _0xe6e647 in _0x442c74){let _0x56e5ea=_0x442c74[_0xe6e647];null!=_0x56e5ea&&''!==_0x56e5ea&&(_0x591e2c(0x137)==typeof _0x56e5ea&&(_0x56e5ea=JSON['stringify'](_0x56e5ea)),_0x59e808+=_0xe6e647+'='+_0x56e5ea+'&');}return _0x59e808=_0x59e808[_0x591e2c(0x141)](0x0,_0x59e808[_0x591e2c(0x158)]-0x1),_0x59e808;}['msg'](_0xc436b8=_0x2f283e,_0x16d6f4='',_0x2948d2='',_0x1df72b){const _0x584097=_0xa90c4,_0xd60e96=_0x19d0a1=>{const _0x1115eb=_0x17f5;switch(typeof _0x19d0a1){case void 0x0:return _0x19d0a1;case'string':switch(this['getEnv']()){case _0x1115eb(0x1bf):case _0x1115eb(0x19a):default:return{'url':_0x19d0a1};case _0x1115eb(0x130):case _0x1115eb(0x153):return _0x19d0a1;case _0x1115eb(0x1a8):return{'open-url':_0x19d0a1};case'Node.js':return;}case _0x1115eb(0x137):switch(this[_0x1115eb(0x145)]()){case _0x1115eb(0x1bf):case _0x1115eb(0x19a):case _0x1115eb(0x153):default:{let _0x2770b7=_0x19d0a1[_0x1115eb(0x151)]||_0x19d0a1['openUrl']||_0x19d0a1[_0x1115eb(0x185)];return{'url':_0x2770b7};}case _0x1115eb(0x130):{let _0x1b5cdb=_0x19d0a1[_0x1115eb(0x1b5)]||_0x19d0a1[_0x1115eb(0x151)]||_0x19d0a1[_0x1115eb(0x185)],_0x49b7fa=_0x19d0a1[_0x1115eb(0x1ae)]||_0x19d0a1['media-url'];return{'openUrl':_0x1b5cdb,'mediaUrl':_0x49b7fa};}case _0x1115eb(0x1a8):{let _0x5db577=_0x19d0a1['open-url']||_0x19d0a1['url']||_0x19d0a1['openUrl'],_0x35d35b=_0x19d0a1['media-url']||_0x19d0a1['mediaUrl'],_0x757a4e=_0x19d0a1[_0x1115eb(0x128)]||_0x19d0a1['updatePasteboard'];return{'open-url':_0x5db577,'media-url':_0x35d35b,'update-pasteboard':_0x757a4e};}case _0x1115eb(0x169):return;}default:return;}};if(!this[_0x584097(0x190)])switch(this[_0x584097(0x145)]()){case'Surge':case _0x584097(0x130):case _0x584097(0x19a):case'Shadowrocket':default:$notification['post'](_0xc436b8,_0x16d6f4,_0x2948d2,_0xd60e96(_0x1df72b));break;case _0x584097(0x1a8):$notify(_0xc436b8,_0x16d6f4,_0x2948d2,_0xd60e96(_0x1df72b));break;case _0x584097(0x169):}if(!this[_0x584097(0x19f)]){let _0x420ebc=['','==============📣系统通知📣=============='];_0x420ebc['push'](_0xc436b8),_0x16d6f4&&_0x420ebc[_0x584097(0x176)](_0x16d6f4),_0x2948d2&&_0x420ebc[_0x584097(0x176)](_0x2948d2),console[_0x584097(0x11c)](_0x420ebc[_0x584097(0x148)]('\x0a')),this['logs']=this[_0x584097(0x159)]['concat'](_0x420ebc);}}[_0xa90c4(0x11c)](..._0x456487){const _0x46cc4a=_0xa90c4;_0x456487[_0x46cc4a(0x158)]>0x0&&(this[_0x46cc4a(0x159)]=[...this['logs'],..._0x456487]),console['log'](_0x456487['join'](this[_0x46cc4a(0x174)]));}[_0xa90c4(0x1ad)](_0x5aad33,_0x2d76a2){const _0x1c8362=_0xa90c4;switch(this[_0x1c8362(0x145)]()){case'Surge':case'Loon':case _0x1c8362(0x19a):case _0x1c8362(0x153):case'Quantumult\x20X':default:this[_0x1c8362(0x11c)]('','❗️'+this[_0x1c8362(0x149)]+_0x1c8362(0x18c),_0x5aad33);break;case'Node.js':this[_0x1c8362(0x11c)]('','❗️'+this['name']+_0x1c8362(0x18c),_0x5aad33['stack']);}}['wait'](_0x2b8659){return new Promise(_0x57c133=>setTimeout(_0x57c133,_0x2b8659));}[_0xa90c4(0x193)](_0x305604={}){const _0x5673f3=_0xa90c4,_0x15bafb=new Date()['getTime'](),_0x3e21db=(_0x15bafb-this['startTime'])/0x3e8;switch(this[_0x5673f3(0x11c)]('','🔔'+this[_0x5673f3(0x149)]+_0x5673f3(0x12f)+_0x3e21db+'\x20秒'),this[_0x5673f3(0x11c)](),this['getEnv']()){case _0x5673f3(0x1bf):case _0x5673f3(0x130):case _0x5673f3(0x19a):case _0x5673f3(0x153):case _0x5673f3(0x1a8):default:$done(_0x305604);break;case _0x5673f3(0x169):process[_0x5673f3(0x170)](0x1);}}}(_0x2f283e,_0x28cae0);}
