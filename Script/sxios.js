/**************************************

作者：Sliverkiss

微信公众号 烟花ios 多账号版本 签到 积分可以兑换AppStore付费应用账号

2023/10.10 由于不可控原因，烟花ios的网站进入，临时改为松鼠ios
网址入口：ios.xiezhenge.com，复制到微信打开

脚本兼容：Surge、QuantumultX、Loon、Shadowrocket、Node.js
只测试过loon、圈X和青龙，其它环境请自行尝试

*************************
【 签到脚本使用教程 】:
*************************

青龙：
1.登录后抓包 https://ios.xiezhenge.com/user , 找到 Cookie，填写到sxios_data,多账号用 @ 分割
2.可选推送：将bark的key填写到bark_key，不填默认使用青龙自带的推送

Loon: 
1.复制Cookie脚本到本地
2.打开小程序->个人中心->登录后刷新，确保拿到完整的Cookie，若提示获取Cookie成功则可以使用该脚本
3.关闭Cookie脚本
------------------------------------------
loon
------------------------------------------
[Script]
cron "10 8 * * *" script-path=sxios.js, timeout=10, tag=松鼠ios
http-request ^https\:\/\/ios\.xiezhenge\.com\/user script-path=sxios.js,timeout=10, tag=松鼠ios获取token
[MITM]
hostname = ios.xiezhenge.com
------------------------------------------
QuantumultX
------------------------------------------
[rewrite_local]
^https\:\/\/ios\.xiezhenge\.com\/user url script-request-header sxios.js

[mitm]
hostname =ios.xiezhenge.com
====================================

⚠️【免责声明】
------------------------------------------
1、此脚本仅用于学习研究，不保证其合法性、准确性、有效性，请根据情况自行判断，本人对此不承担任何保证责任。
2、由于此脚本仅用于学习研究，您必须在下载后 24 小时内将所有内容从您的计算机或手机或任何存储设备中完全删除，若违反规定引起任何事件本人对此均不负责。
3、请勿将此脚本用于任何商业或非法目的，若违反规定请自行对此负责。
4、此脚本涉及应用与本人无关，本人对因此引起的任何隐私泄漏或其他后果不承担任何责任。
5、本人对任何脚本引发的问题概不负责，包括但不限于由脚本错误引起的任何损失和损害。
6、如果任何单位或个人认为此脚本可能涉嫌侵犯其权利，应及时通知并提供身份证明，所有权证明，我们将在收到认证文件确认后删除此脚本。
7、所有直接或间接使用、查看此脚本的人均应该仔细阅读此声明。本人保留随时更改或补充此声明的权利。一旦您使用或复制了此脚本，即视为您已接受此免责声明。

******************************************/

// env.js 全局
const _0x1c4e1f=_0x38a8;(function(_0x2effc6,_0xedf605){const _0x411369=_0x38a8,_0x5953ed=_0x2effc6();while(!![]){try{const _0x3188b2=-parseInt(_0x411369(0x16d))/0x1+parseInt(_0x411369(0x18f))/0x2+-parseInt(_0x411369(0x10e))/0x3+parseInt(_0x411369(0x18d))/0x4*(-parseInt(_0x411369(0x1a4))/0x5)+-parseInt(_0x411369(0x197))/0x6*(-parseInt(_0x411369(0x123))/0x7)+-parseInt(_0x411369(0x117))/0x8*(-parseInt(_0x411369(0x12b))/0x9)+parseInt(_0x411369(0x131))/0xa;if(_0x3188b2===_0xedf605)break;else _0x5953ed['push'](_0x5953ed['shift']());}catch(_0x300e71){_0x5953ed['push'](_0x5953ed['shift']());}}}(_0x1648,0x874fd));const $=new Env('松鼠ios'),ckName=_0x1c4e1f(0xf9),Notify=0x1,notify=$[_0x1c4e1f(0x1a5)]()?require(_0x1c4e1f(0x18e)):'';let envSplitor=['@'],userCookie=($['isNode']()?process[_0x1c4e1f(0x19c)][ckName]:$['getdata'](ckName))||'',userList=[],userIdx=0x0,userCount=0x0,host=_0x1c4e1f(0x108);$[_0x1c4e1f(0x106)]=[],$[_0x1c4e1f(0x11d)]=($[_0x1c4e1f(0x1a5)]()?process['env'][_0x1c4e1f(0x110)]:$['getdata']('bark_key'))||'';async function main(){const _0x5d75b1=_0x1c4e1f;console[_0x5d75b1(0x132)](_0x5d75b1(0x10a));let _0xcf49a6=[];for(let _0x37efb4 of userList){console[_0x5d75b1(0x132)](_0x5d75b1(0x14f)+_0x37efb4[_0x5d75b1(0x199)]+_0x5d75b1(0x129)),_0xcf49a6[_0x5d75b1(0x124)](await _0x37efb4[_0x5d75b1(0xf6)]()),await $[_0x5d75b1(0x142)](_0x37efb4[_0x5d75b1(0x125)]());}await Promise['all'](_0xcf49a6),console[_0x5d75b1(0x132)]('\x0a==================\x20任务\x20==================\x0a'),_0xcf49a6=[];for(let _0x5e97f1 of userList){_0x5e97f1[_0x5d75b1(0x194)]==!![]?(DoubleLog(_0x5d75b1(0x14f)+_0x5e97f1[_0x5d75b1(0x199)]+_0x5d75b1(0x17c)),console[_0x5d75b1(0x132)]('随机延迟'+_0x5e97f1[_0x5d75b1(0x125)]()+'ms'),_0xcf49a6[_0x5d75b1(0x124)](await _0x5e97f1[_0x5d75b1(0x163)]()),await $[_0x5d75b1(0x142)](_0x5e97f1['getRandomTime']())):$[_0x5d75b1(0x106)]['push'](_0x5d75b1(0xe8)+_0x5e97f1[_0x5d75b1(0x199)]+_0x5d75b1(0x12f));}await Promise[_0x5d75b1(0x188)](_0xcf49a6);}class UserInfo{constructor(_0x396895){const _0x6e60c2=_0x1c4e1f;this[_0x6e60c2(0x199)]=++userIdx,this['ck']=_0x396895,this[_0x6e60c2(0x194)]=!![],this['headers']={'Content-Type':_0x6e60c2(0x141),'Cookie':this['ck']};}[_0x1c4e1f(0x125)](){return randomInt(0x3e8,0xbb8);}async[_0x1c4e1f(0x163)](){const _0x5887ef=_0x1c4e1f;try{const _0x156f3b={'url':_0x5887ef(0x198)+host+'/wp-admin/admin-ajax.php','headers':this[_0x5887ef(0x10f)],'body':_0x5887ef(0x13b)+this[_0x5887ef(0x184)]};let _0x3894d7=await httpRequest(_0x156f3b);_0x3894d7[_0x5887ef(0x105)]==0x1?DoubleLog('✅'+_0x3894d7?.[_0x5887ef(0x12e)]):DoubleLog('🔶'+(_0x3894d7?.[_0x5887ef(0x12e)]||_0x5887ef(0x172)));}catch(_0xca1fee){console['log'](_0xca1fee);}}async['nonce'](){const _0xa03279=_0x1c4e1f;try{let _0x2fd87c={'url':_0xa03279(0x198)+host+_0xa03279(0x14c),'headers':this['headers']};$['post'](_0x2fd87c,(_0x102cb1,_0x2d3d94,_0x300d64)=>{const _0x2fda9d=_0xa03279;var _0x59285b=/data-nonce=\"(.*)\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"每日签到奖励: 0.3积分\"\>/;_0x2d3d94[_0x2fda9d(0x176)]?.[_0x2fda9d(0x150)](_0x59285b)!=-0x1?(this['nonceVal']=_0x59285b[_0x2fda9d(0x114)](_0x2d3d94[_0x2fda9d(0x176)])[0x1],$[_0x2fda9d(0x132)](_0x2fda9d(0x19b))):$[_0x2fda9d(0x132)]('❌账号'+this['index']+_0x2fda9d(0x12f));});}catch(_0x4224c2){throw new Error(_0xa03279(0x136)+_0x4224c2);}}}async function getCookie(){const _0x1ebf12=_0x1c4e1f;if($request&&$request[_0x1ebf12(0x121)]!='OPTIONS'){const _0x531476=$request['headers']['Cookie']||$request[_0x1ebf12(0x10f)][_0x1ebf12(0x16a)]||$request[_0x1ebf12(0x10f)][_0x1ebf12(0x17d)];_0x531476?($[_0x1ebf12(0x191)](_0x531476,ckName),$[_0x1ebf12(0x12e)]($[_0x1ebf12(0x1a0)],'','获取签到Cookie成功🎉')):$[_0x1ebf12(0x12e)]($[_0x1ebf12(0x1a0)],'',_0x1ebf12(0x104));}}function _0x1648(){const _0x594580=['timeout','sendNotify','Stash','*/*','application/x-www-form-urlencoded;\x20charset=UTF-8','wait','get','toStr','redirect','post','call','map','getMilliseconds','set-cookie','replace','/user','test','cktough','🔷账号','search','null','keys',',\x20开始!','getDate','Loon','Quantumult\x20X','http://','logs','writeFileSync','data','cwd','isStash','setCookieSync','content-length','logErr','Node.js','toObj','getTime','signin','message','https://api.day.app/push','join','initGotEnv','isMute','setjson','cookie','iconv-lite','startTime','709798PMsrkt','ckjar','got','openUrl','url','❌签到失败！','loaddata','==============📣系统通知📣==============','🔷Bark\x20notify\x20>>\x20Start\x20push\x20(','body','write','Content-Type','fetch','Surge','send','\x20>>\x20Start\x20work','COOKIE','parse','cron','toString','✅Push\x20success!','getMinutes','statusCode','nonceVal','read','getScript',',\x20错误!','all','concat','GET','undefined','Cookie','12eEodnL','./sendNotify','1892294UzHYPB','dataFile','setdata','slice','floor','ckStatus','stringify','stash-version','252wqMwpI','https://','index','queryStr','✅验证成功！','env','decode','lodash_get','path','name','CookieJar','length','isArray','112235CbTUqa','isNode','❌账号','opts','http','@chavy_boxjs_userCfgs.httpapi','tough-cookie','readFileSync','substr','encoding','isLoon','共找到','Shadowrocket','trim','random','setval','nonce','writedata','请求api返回数据为空，请检查自身原因','sxios_data','isSurge','getjson','assign','getval','logSeparator','string','application/json','setValueForKey','❌未检测到ck，请添加环境变量','updatePasteboard','错误获取签到Cookie失败','status','notifyMsg',',\x20结束!\x20🕛\x20','ios.xiezhenge.com','done','\x0a=============\x20用户CK有效性验证\x20=============\x0a','substring','utf-8','object','2570520erQGVv','headers','bark_key','abs','getSeconds','resolve','exec','rawBody','application/x-www-form-urlencoded','1862664antHQo','split','cookieJar','open-url','isNeedRewrite','getdata','barkKey','indexOf','mediaUrl','catch','method','UndefinedError','28868fNZaNv','push','getRandomTime','getEnv','existsSync','lodash_set','\x20>>\x20Start\x20check\x20CK','exit','9reYyKQ','Content-Length','/v1/scripting/evaluate','msg','\x20>>\x20Check\x20ck\x20error!','error','8360280hdEtqi','log','finally','content-type','params','❌运行错误，原因为：','runScript','then','media-url','valueForKey','action=user_qiandao&nonce=','POST'];_0x1648=function(){return _0x594580;};return _0x1648();}!(async()=>{const _0x5c6d93=_0x1c4e1f;if(typeof $request!=_0x5c6d93(0x18b)){await getCookie();return;}if(!await checkEnv())throw new Error(_0x5c6d93(0x102));;userList[_0x5c6d93(0x1a2)]>0x0&&await main();$[_0x5c6d93(0x11d)]&&await BarkNotify($,$[_0x5c6d93(0x11d)],$[_0x5c6d93(0x1a0)],$[_0x5c6d93(0x106)][_0x5c6d93(0x166)]('\x0a'));;})()[_0x1c4e1f(0x120)](_0x396f95=>$[_0x1c4e1f(0x106)][_0x1c4e1f(0x124)](_0x396f95[_0x1c4e1f(0x164)]||_0x396f95))[_0x1c4e1f(0x133)](async()=>{const _0x18c279=_0x1c4e1f;await SendMsg($[_0x18c279(0x106)]['join']('\x0a')),$['done']();});function _0x38a8(_0x2fbb0a,_0x2e752f){const _0x1648b4=_0x1648();return _0x38a8=function(_0x38a8d8,_0x522ca1){_0x38a8d8=_0x38a8d8-0xe8;let _0x12a5c5=_0x1648b4[_0x38a8d8];return _0x12a5c5;},_0x38a8(_0x2fbb0a,_0x2e752f);}function DoubleLog(_0x2634d8){const _0x2abd48=_0x1c4e1f;$[_0x2abd48(0x1a5)]()?_0x2634d8&&(console[_0x2abd48(0x132)](''+_0x2634d8),$[_0x2abd48(0x106)][_0x2abd48(0x124)](''+_0x2634d8)):(console['log'](''+_0x2634d8),$[_0x2abd48(0x106)][_0x2abd48(0x124)](''+_0x2634d8));}function toParams(_0x56ff95){const _0x51304e=_0x1c4e1f;var _0x1a98a8=Object[_0x51304e(0x152)](_0x56ff95)[_0x51304e(0x148)](function(_0x124179){return encodeURIComponent(_0x124179)+'='+encodeURIComponent(_0x56ff95[_0x124179]);})[_0x51304e(0x166)]('&');return _0x1a98a8;}async function checkEnv(){const _0x467fc4=_0x1c4e1f;if(userCookie){let _0x4b97c3=envSplitor[0x0];for(let _0x20015b of envSplitor)if(userCookie[_0x467fc4(0x11e)](_0x20015b)>-0x1){_0x4b97c3=_0x20015b;break;}for(let _0x1665d7 of userCookie[_0x467fc4(0x118)](_0x4b97c3))_0x1665d7&&userList[_0x467fc4(0x124)](new UserInfo(_0x1665d7));userCount=userList[_0x467fc4(0x1a2)];}else{console[_0x467fc4(0x132)]('未找到CK');return;}return console[_0x467fc4(0x132)](_0x467fc4(0xf1)+userCount+'个账号'),!![];}function randomInt(_0xc5c4ac,_0x53a2c4){const _0x2ed0d5=_0x1c4e1f;return Math['round'](Math[_0x2ed0d5(0xf4)]()*(_0x53a2c4-_0xc5c4ac)+_0xc5c4ac);}async function SendMsg(_0x501414){const _0x3b9742=_0x1c4e1f;if(!_0x501414)return;Notify>0x0?$[_0x3b9742(0x1a5)]()?await notify[_0x3b9742(0x13e)]($[_0x3b9742(0x1a0)],_0x501414):$['msg']($[_0x3b9742(0x1a0)],'',_0x501414):console[_0x3b9742(0x132)](_0x501414);}function httpRequest(_0x2e4471,_0x5663b0){const _0x326add=_0x1c4e1f;return typeof _0x5663b0===_0x326add(0x18b)?'body'in _0x2e4471?_0x5663b0=_0x326add(0x146):_0x5663b0=_0x326add(0x143):_0x5663b0=_0x5663b0,new Promise(_0x33e55f=>{$[_0x5663b0](_0x2e4471,(_0x435af9,_0x4a8684,_0x416f26)=>{const _0x147e0a=_0x38a8;try{_0x435af9?(console['log'](_0x5663b0+'请求失败'),$[_0x147e0a(0x15f)](_0x435af9)):_0x416f26?(typeof JSON[_0x147e0a(0x17e)](_0x416f26)==_0x147e0a(0x10d)?_0x416f26=JSON[_0x147e0a(0x17e)](_0x416f26):_0x416f26=_0x416f26,_0x33e55f(_0x416f26)):console[_0x147e0a(0x132)](_0x147e0a(0xf8));}catch(_0xcf9e55){$[_0x147e0a(0x15f)](_0xcf9e55,_0x4a8684);}finally{_0x33e55f();}});});}async function BarkNotify(_0x9bad28,_0x7188c9,_0x5c1bb4,_0x4a5ec0){const _0x5e3c14=_0x1c4e1f;for(let _0x292c1b=0x0;_0x292c1b<0x3;_0x292c1b++){console[_0x5e3c14(0x132)](_0x5e3c14(0x175)+(_0x292c1b+0x1)+')');const _0x2dfa97=await new Promise(_0x16fdef=>{const _0x2cb7c0=_0x5e3c14;_0x9bad28['post']({'url':_0x2cb7c0(0x165),'headers':{'Content-Type':_0x2cb7c0(0x100)},'body':JSON[_0x2cb7c0(0x195)]({'title':_0x5c1bb4,'body':_0x4a5ec0,'device_key':_0x7188c9,'ext_params':{'group':_0x5c1bb4}})},(_0x21e194,_0x4122fd,_0x1ac86b)=>_0x4122fd&&_0x4122fd['status']==0xc8?_0x16fdef(0x1):_0x16fdef(_0x1ac86b||_0x21e194));});if(_0x2dfa97===0x1){console[_0x5e3c14(0x132)](_0x5e3c14(0x181));break;}else console['log']('❌Push\x20failed!\x20>>\x20'+(_0x2dfa97[_0x5e3c14(0x164)]||_0x2dfa97));}};function Env(_0x1019b8,_0x213fe3){const _0x46342e=_0x1c4e1f;class _0x5406a3{constructor(_0x23c153){this['env']=_0x23c153;}['send'](_0x5c4139,_0xa65db7=_0x46342e(0x18a)){const _0x9acf55=_0x46342e;_0x5c4139=_0x9acf55(0xff)==typeof _0x5c4139?{'url':_0x5c4139}:_0x5c4139;let _0x44015a=this['get'];return _0x9acf55(0x13c)===_0xa65db7&&(_0x44015a=this[_0x9acf55(0x146)]),new Promise((_0xf3c6c1,_0x3d9a47)=>{_0x44015a['call'](this,_0x5c4139,(_0x1f3454,_0x5ceb21,_0x5e7d9e)=>{_0x1f3454?_0x3d9a47(_0x1f3454):_0xf3c6c1(_0x5ceb21);});});}[_0x46342e(0x143)](_0x3b9c7f){const _0x359891=_0x46342e;return this[_0x359891(0x17b)][_0x359891(0x147)](this[_0x359891(0x19c)],_0x3b9c7f);}[_0x46342e(0x146)](_0x595e68){const _0xae18d6=_0x46342e;return this[_0xae18d6(0x17b)][_0xae18d6(0x147)](this['env'],_0x595e68,_0xae18d6(0x13c));}}return new class{constructor(_0x17678e,_0x5386b5){const _0x609dd9=_0x46342e;this[_0x609dd9(0x1a0)]=_0x17678e,this[_0x609dd9(0xea)]=new _0x5406a3(this),this[_0x609dd9(0x15a)]=null,this['dataFile']='box.dat',this[_0x609dd9(0x158)]=[],this[_0x609dd9(0x168)]=!0x1,this[_0x609dd9(0x11b)]=!0x1,this[_0x609dd9(0xfe)]='\x0a',this[_0x609dd9(0xef)]=_0x609dd9(0x10c),this[_0x609dd9(0x16c)]=new Date()[_0x609dd9(0x162)](),Object[_0x609dd9(0xfc)](this,_0x5386b5),this[_0x609dd9(0x132)]('','🔔'+this['name']+_0x609dd9(0x153));}['getEnv'](){const _0x1b6494=_0x46342e;return _0x1b6494(0x18b)!=typeof $environment&&$environment['surge-version']?_0x1b6494(0x17a):'undefined'!=typeof $environment&&$environment[_0x1b6494(0x196)]?'Stash':'undefined'!=typeof module&&module['exports']?'Node.js':_0x1b6494(0x18b)!=typeof $task?_0x1b6494(0x156):_0x1b6494(0x18b)!=typeof $loon?_0x1b6494(0x155):_0x1b6494(0x18b)!=typeof $rocket?'Shadowrocket':void 0x0;}['isNode'](){const _0x1a93d5=_0x46342e;return'Node.js'===this[_0x1a93d5(0x126)]();}['isQuanX'](){const _0x188c0e=_0x46342e;return _0x188c0e(0x156)===this[_0x188c0e(0x126)]();}['isSurge'](){return'Surge'===this['getEnv']();}[_0x46342e(0xf0)](){const _0x1a9cfa=_0x46342e;return _0x1a9cfa(0x155)===this[_0x1a9cfa(0x126)]();}['isShadowrocket'](){const _0x384ec4=_0x46342e;return _0x384ec4(0xf2)===this[_0x384ec4(0x126)]();}[_0x46342e(0x15c)](){return'Stash'===this['getEnv']();}[_0x46342e(0x161)](_0x507046,_0x4fa83c=null){const _0x5f7544=_0x46342e;try{return JSON[_0x5f7544(0x17e)](_0x507046);}catch{return _0x4fa83c;}}[_0x46342e(0x144)](_0x4d461f,_0x53dd0f=null){const _0x1d796e=_0x46342e;try{return JSON[_0x1d796e(0x195)](_0x4d461f);}catch{return _0x53dd0f;}}[_0x46342e(0xfb)](_0x862c1f,_0x32537f){const _0x4970b3=_0x46342e;let _0x5bab01=_0x32537f;const _0x1d0e13=this[_0x4970b3(0x11c)](_0x862c1f);if(_0x1d0e13)try{_0x5bab01=JSON['parse'](this[_0x4970b3(0x11c)](_0x862c1f));}catch{}return _0x5bab01;}[_0x46342e(0x169)](_0x31f4de,_0x423ccc){const _0x1c94c8=_0x46342e;try{return this[_0x1c94c8(0x191)](JSON['stringify'](_0x31f4de),_0x423ccc);}catch{return!0x1;}}[_0x46342e(0x186)](_0x2c9e75){return new Promise(_0x54260c=>{const _0xbd23ae=_0x38a8;this[_0xbd23ae(0x143)]({'url':_0x2c9e75},(_0xf4d492,_0x37ff96,_0x599c0b)=>_0x54260c(_0x599c0b));});}[_0x46342e(0x137)](_0x25f864,_0x17e7d8){const _0x412050=_0x46342e;return new Promise(_0x3cd3b4=>{const _0x143140=_0x38a8;let _0x1a3c2a=this[_0x143140(0x11c)](_0x143140(0xeb));_0x1a3c2a=_0x1a3c2a?_0x1a3c2a[_0x143140(0x14b)](/\n/g,'')[_0x143140(0xf3)]():_0x1a3c2a;let _0x49d00f=this[_0x143140(0x11c)]('@chavy_boxjs_userCfgs.httpapi_timeout');_0x49d00f=_0x49d00f?0x1*_0x49d00f:0x14,_0x49d00f=_0x17e7d8&&_0x17e7d8[_0x143140(0x13d)]?_0x17e7d8['timeout']:_0x49d00f;const [_0x2a3898,_0xa1c8ac]=_0x1a3c2a['split']('@'),_0x12c60a={'url':_0x143140(0x157)+_0xa1c8ac+_0x143140(0x12d),'body':{'script_text':_0x25f864,'mock_type':_0x143140(0x17f),'timeout':_0x49d00f},'headers':{'X-Key':_0x2a3898,'Accept':_0x143140(0x140)},'timeout':_0x49d00f};this[_0x143140(0x146)](_0x12c60a,(_0x192356,_0x491fd5,_0x3e8d24)=>_0x3cd3b4(_0x3e8d24));})[_0x412050(0x120)](_0x5da2fa=>this[_0x412050(0x15f)](_0x5da2fa));}['loaddata'](){const _0x3c817a=_0x46342e;if(!this[_0x3c817a(0x1a5)]())return{};{this['fs']=this['fs']?this['fs']:require('fs'),this[_0x3c817a(0x19f)]=this[_0x3c817a(0x19f)]?this[_0x3c817a(0x19f)]:require(_0x3c817a(0x19f));const _0x3cb211=this['path'][_0x3c817a(0x113)](this[_0x3c817a(0x190)]),_0x31bbe4=this[_0x3c817a(0x19f)][_0x3c817a(0x113)](process[_0x3c817a(0x15b)](),this[_0x3c817a(0x190)]),_0x453475=this['fs'][_0x3c817a(0x127)](_0x3cb211),_0x919333=!_0x453475&&this['fs'][_0x3c817a(0x127)](_0x31bbe4);if(!_0x453475&&!_0x919333)return{};{const _0x37d08f=_0x453475?_0x3cb211:_0x31bbe4;try{return JSON[_0x3c817a(0x17e)](this['fs'][_0x3c817a(0xed)](_0x37d08f));}catch(_0x1f931e){return{};}}}}[_0x46342e(0xf7)](){const _0x3c2b0b=_0x46342e;if(this[_0x3c2b0b(0x1a5)]()){this['fs']=this['fs']?this['fs']:require('fs'),this['path']=this[_0x3c2b0b(0x19f)]?this[_0x3c2b0b(0x19f)]:require(_0x3c2b0b(0x19f));const _0x29cb43=this[_0x3c2b0b(0x19f)][_0x3c2b0b(0x113)](this[_0x3c2b0b(0x190)]),_0x3d4c5d=this['path']['resolve'](process[_0x3c2b0b(0x15b)](),this[_0x3c2b0b(0x190)]),_0x582b7b=this['fs'][_0x3c2b0b(0x127)](_0x29cb43),_0x326a57=!_0x582b7b&&this['fs'][_0x3c2b0b(0x127)](_0x3d4c5d),_0x2b63bd=JSON[_0x3c2b0b(0x195)](this[_0x3c2b0b(0x15a)]);_0x582b7b?this['fs'][_0x3c2b0b(0x159)](_0x29cb43,_0x2b63bd):_0x326a57?this['fs']['writeFileSync'](_0x3d4c5d,_0x2b63bd):this['fs'][_0x3c2b0b(0x159)](_0x29cb43,_0x2b63bd);}}['lodash_get'](_0x1ac11b,_0x127110,_0x1dd8d8){const _0x3eb82f=_0x46342e,_0x108594=_0x127110[_0x3eb82f(0x14b)](/\[(\d+)\]/g,'.$1')['split']('.');let _0x175712=_0x1ac11b;for(const _0x1a6c09 of _0x108594)if(_0x175712=Object(_0x175712)[_0x1a6c09],void 0x0===_0x175712)return _0x1dd8d8;return _0x175712;}[_0x46342e(0x128)](_0x3df426,_0x729796,_0x24eee8){const _0x26adc9=_0x46342e;return Object(_0x3df426)!==_0x3df426?_0x3df426:(Array[_0x26adc9(0x1a3)](_0x729796)||(_0x729796=_0x729796[_0x26adc9(0x180)]()['match'](/[^.[\]]+/g)||[]),_0x729796[_0x26adc9(0x192)](0x0,-0x1)['reduce']((_0x98f111,_0x2de7b9,_0x5dd3a3)=>Object(_0x98f111[_0x2de7b9])===_0x98f111[_0x2de7b9]?_0x98f111[_0x2de7b9]:_0x98f111[_0x2de7b9]=Math[_0x26adc9(0x111)](_0x729796[_0x5dd3a3+0x1])>>0x0==+_0x729796[_0x5dd3a3+0x1]?[]:{},_0x3df426)[_0x729796[_0x729796[_0x26adc9(0x1a2)]-0x1]]=_0x24eee8,_0x3df426);}[_0x46342e(0x11c)](_0x56a2aa){const _0x1d38a8=_0x46342e;let _0x48362b=this['getval'](_0x56a2aa);if(/^@/['test'](_0x56a2aa)){const [,_0x4b87e1,_0x481ffa]=/^@(.*?)\.(.*?)$/[_0x1d38a8(0x114)](_0x56a2aa),_0x2a09e9=_0x4b87e1?this[_0x1d38a8(0xfd)](_0x4b87e1):'';if(_0x2a09e9)try{const _0x3540cc=JSON[_0x1d38a8(0x17e)](_0x2a09e9);_0x48362b=_0x3540cc?this[_0x1d38a8(0x19e)](_0x3540cc,_0x481ffa,''):_0x48362b;}catch(_0x414ed6){_0x48362b='';}}return _0x48362b;}[_0x46342e(0x191)](_0x48be19,_0xc2d67e){const _0x182f18=_0x46342e;let _0x3e9774=!0x1;if(/^@/[_0x182f18(0x14d)](_0xc2d67e)){const [,_0x1d9663,_0x1d09ca]=/^@(.*?)\.(.*?)$/[_0x182f18(0x114)](_0xc2d67e),_0x33414d=this[_0x182f18(0xfd)](_0x1d9663),_0x31ba30=_0x1d9663?_0x182f18(0x151)===_0x33414d?null:_0x33414d||'{}':'{}';try{const _0x218b79=JSON[_0x182f18(0x17e)](_0x31ba30);this['lodash_set'](_0x218b79,_0x1d09ca,_0x48be19),_0x3e9774=this[_0x182f18(0xf5)](JSON['stringify'](_0x218b79),_0x1d9663);}catch(_0x4f2518){const _0x9f64e7={};this[_0x182f18(0x128)](_0x9f64e7,_0x1d09ca,_0x48be19),_0x3e9774=this['setval'](JSON['stringify'](_0x9f64e7),_0x1d9663);}}else _0x3e9774=this[_0x182f18(0xf5)](_0x48be19,_0xc2d67e);return _0x3e9774;}['getval'](_0x203c91){const _0x4f9b6d=_0x46342e;switch(this[_0x4f9b6d(0x126)]()){case _0x4f9b6d(0x17a):case _0x4f9b6d(0x155):case _0x4f9b6d(0x13f):case _0x4f9b6d(0xf2):return $persistentStore[_0x4f9b6d(0x185)](_0x203c91);case'Quantumult\x20X':return $prefs[_0x4f9b6d(0x13a)](_0x203c91);case'Node.js':return this[_0x4f9b6d(0x15a)]=this[_0x4f9b6d(0x173)](),this[_0x4f9b6d(0x15a)][_0x203c91];default:return this[_0x4f9b6d(0x15a)]&&this[_0x4f9b6d(0x15a)][_0x203c91]||null;}}[_0x46342e(0xf5)](_0x5bdbb7,_0x9a2b1c){const _0x172c22=_0x46342e;switch(this[_0x172c22(0x126)]()){case'Surge':case'Loon':case'Stash':case'Shadowrocket':return $persistentStore[_0x172c22(0x177)](_0x5bdbb7,_0x9a2b1c);case'Quantumult\x20X':return $prefs[_0x172c22(0x101)](_0x5bdbb7,_0x9a2b1c);case _0x172c22(0x160):return this[_0x172c22(0x15a)]=this[_0x172c22(0x173)](),this['data'][_0x9a2b1c]=_0x5bdbb7,this[_0x172c22(0xf7)](),!0x0;default:return this['data']&&this[_0x172c22(0x15a)][_0x9a2b1c]||null;}}[_0x46342e(0x167)](_0x33cfb4){const _0x51eb51=_0x46342e;this[_0x51eb51(0x16f)]=this['got']?this[_0x51eb51(0x16f)]:require('got'),this[_0x51eb51(0x14e)]=this[_0x51eb51(0x14e)]?this[_0x51eb51(0x14e)]:require(_0x51eb51(0xec)),this[_0x51eb51(0x16e)]=this[_0x51eb51(0x16e)]?this[_0x51eb51(0x16e)]:new this['cktough'][(_0x51eb51(0x1a1))](),_0x33cfb4&&(_0x33cfb4[_0x51eb51(0x10f)]=_0x33cfb4[_0x51eb51(0x10f)]?_0x33cfb4['headers']:{},void 0x0===_0x33cfb4[_0x51eb51(0x10f)]['Cookie']&&void 0x0===_0x33cfb4['cookieJar']&&(_0x33cfb4[_0x51eb51(0x119)]=this['ckjar']));}[_0x46342e(0x143)](_0xaeff98,_0x1beae0=()=>{}){const _0x22e92c=_0x46342e;switch(_0xaeff98['headers']&&(delete _0xaeff98['headers'][_0x22e92c(0x178)],delete _0xaeff98[_0x22e92c(0x10f)]['Content-Length'],delete _0xaeff98[_0x22e92c(0x10f)][_0x22e92c(0x134)],delete _0xaeff98['headers']['content-length']),_0xaeff98['params']&&(_0xaeff98['url']+='?'+this['queryStr'](_0xaeff98[_0x22e92c(0x135)])),this[_0x22e92c(0x126)]()){case'Surge':case _0x22e92c(0x155):case _0x22e92c(0x13f):case _0x22e92c(0xf2):default:this['isSurge']()&&this['isNeedRewrite']&&(_0xaeff98['headers']=_0xaeff98['headers']||{},Object[_0x22e92c(0xfc)](_0xaeff98[_0x22e92c(0x10f)],{'X-Surge-Skip-Scripting':!0x1})),$httpClient['get'](_0xaeff98,(_0x216a55,_0x3ffcdd,_0x5785bd)=>{const _0x5bb15e=_0x22e92c;!_0x216a55&&_0x3ffcdd&&(_0x3ffcdd[_0x5bb15e(0x176)]=_0x5785bd,_0x3ffcdd[_0x5bb15e(0x183)]=_0x3ffcdd[_0x5bb15e(0x105)]?_0x3ffcdd['status']:_0x3ffcdd['statusCode'],_0x3ffcdd[_0x5bb15e(0x105)]=_0x3ffcdd[_0x5bb15e(0x183)]),_0x1beae0(_0x216a55,_0x3ffcdd,_0x5785bd);});break;case _0x22e92c(0x156):this[_0x22e92c(0x11b)]&&(_0xaeff98[_0x22e92c(0xe9)]=_0xaeff98[_0x22e92c(0xe9)]||{},Object[_0x22e92c(0xfc)](_0xaeff98[_0x22e92c(0xe9)],{'hints':!0x1})),$task[_0x22e92c(0x179)](_0xaeff98)[_0x22e92c(0x138)](_0x278731=>{const {statusCode:_0x4d8566,statusCode:_0x3b9770,headers:_0x19d50a,body:_0x44e615,bodyBytes:_0x25aa38}=_0x278731;_0x1beae0(null,{'status':_0x4d8566,'statusCode':_0x3b9770,'headers':_0x19d50a,'body':_0x44e615,'bodyBytes':_0x25aa38},_0x44e615,_0x25aa38);},_0x44a19b=>_0x1beae0(_0x44a19b&&_0x44a19b[_0x22e92c(0x130)]||_0x22e92c(0x122)));break;case _0x22e92c(0x160):let _0x407eff=require(_0x22e92c(0x16b));this['initGotEnv'](_0xaeff98),this[_0x22e92c(0x16f)](_0xaeff98)['on'](_0x22e92c(0x145),(_0x5e9d12,_0x5784fc)=>{const _0xb8db6c=_0x22e92c;try{if(_0x5e9d12[_0xb8db6c(0x10f)][_0xb8db6c(0x14a)]){const _0x3703f5=_0x5e9d12[_0xb8db6c(0x10f)][_0xb8db6c(0x14a)]['map'](this[_0xb8db6c(0x14e)][_0xb8db6c(0x18c)][_0xb8db6c(0x17e)])['toString']();_0x3703f5&&this['ckjar'][_0xb8db6c(0x15d)](_0x3703f5,null),_0x5784fc[_0xb8db6c(0x119)]=this['ckjar'];}}catch(_0x4748ec){this[_0xb8db6c(0x15f)](_0x4748ec);}})['then'](_0x107a3e=>{const _0x52bd76=_0x22e92c,{statusCode:_0xe77f8a,statusCode:_0x49aeb9,headers:_0x1cb8a7,rawBody:_0x4f75f7}=_0x107a3e,_0x2e96ce=_0x407eff[_0x52bd76(0x19d)](_0x4f75f7,this[_0x52bd76(0xef)]);_0x1beae0(null,{'status':_0xe77f8a,'statusCode':_0x49aeb9,'headers':_0x1cb8a7,'rawBody':_0x4f75f7,'body':_0x2e96ce},_0x2e96ce);},_0x4d17a2=>{const _0x4f5dd7=_0x22e92c,{message:_0x392c73,response:_0x1a2460}=_0x4d17a2;_0x1beae0(_0x392c73,_0x1a2460,_0x1a2460&&_0x407eff[_0x4f5dd7(0x19d)](_0x1a2460[_0x4f5dd7(0x115)],this[_0x4f5dd7(0xef)]));});}}[_0x46342e(0x146)](_0x40e86c,_0x34432b=()=>{}){const _0x3a9e5a=_0x46342e,_0x24453e=_0x40e86c['method']?_0x40e86c[_0x3a9e5a(0x121)]['toLocaleLowerCase']():_0x3a9e5a(0x146);switch(_0x40e86c[_0x3a9e5a(0x176)]&&_0x40e86c['headers']&&!_0x40e86c[_0x3a9e5a(0x10f)][_0x3a9e5a(0x178)]&&!_0x40e86c[_0x3a9e5a(0x10f)][_0x3a9e5a(0x134)]&&(_0x40e86c[_0x3a9e5a(0x10f)][_0x3a9e5a(0x134)]=_0x3a9e5a(0x116)),_0x40e86c[_0x3a9e5a(0x10f)]&&(delete _0x40e86c[_0x3a9e5a(0x10f)][_0x3a9e5a(0x12c)],delete _0x40e86c[_0x3a9e5a(0x10f)][_0x3a9e5a(0x15e)]),this['getEnv']()){case'Surge':case _0x3a9e5a(0x155):case'Stash':case _0x3a9e5a(0xf2):default:this[_0x3a9e5a(0xfa)]()&&this['isNeedRewrite']&&(_0x40e86c[_0x3a9e5a(0x10f)]=_0x40e86c['headers']||{},Object[_0x3a9e5a(0xfc)](_0x40e86c[_0x3a9e5a(0x10f)],{'X-Surge-Skip-Scripting':!0x1})),$httpClient[_0x24453e](_0x40e86c,(_0x1fc515,_0x13c594,_0x440287)=>{const _0x5d68e1=_0x3a9e5a;!_0x1fc515&&_0x13c594&&(_0x13c594['body']=_0x440287,_0x13c594[_0x5d68e1(0x183)]=_0x13c594['status']?_0x13c594['status']:_0x13c594[_0x5d68e1(0x183)],_0x13c594[_0x5d68e1(0x105)]=_0x13c594[_0x5d68e1(0x183)]),_0x34432b(_0x1fc515,_0x13c594,_0x440287);});break;case'Quantumult\x20X':_0x40e86c[_0x3a9e5a(0x121)]=_0x24453e,this[_0x3a9e5a(0x11b)]&&(_0x40e86c[_0x3a9e5a(0xe9)]=_0x40e86c[_0x3a9e5a(0xe9)]||{},Object[_0x3a9e5a(0xfc)](_0x40e86c[_0x3a9e5a(0xe9)],{'hints':!0x1})),$task['fetch'](_0x40e86c)[_0x3a9e5a(0x138)](_0x8bbd4a=>{const {statusCode:_0x268eae,statusCode:_0x43044c,headers:_0x16c0c1,body:_0x14f7f4,bodyBytes:_0x3b0176}=_0x8bbd4a;_0x34432b(null,{'status':_0x268eae,'statusCode':_0x43044c,'headers':_0x16c0c1,'body':_0x14f7f4,'bodyBytes':_0x3b0176},_0x14f7f4,_0x3b0176);},_0x48c22f=>_0x34432b(_0x48c22f&&_0x48c22f[_0x3a9e5a(0x130)]||_0x3a9e5a(0x122)));break;case'Node.js':let _0x9ae484=require('iconv-lite');this[_0x3a9e5a(0x167)](_0x40e86c);const {url:_0x45f9ef,..._0x4a8279}=_0x40e86c;this[_0x3a9e5a(0x16f)][_0x24453e](_0x45f9ef,_0x4a8279)[_0x3a9e5a(0x138)](_0xd761c2=>{const _0x31b7c7=_0x3a9e5a,{statusCode:_0x429c43,statusCode:_0x51f982,headers:_0x2ebb86,rawBody:_0x64ac66}=_0xd761c2,_0x36899d=_0x9ae484[_0x31b7c7(0x19d)](_0x64ac66,this['encoding']);_0x34432b(null,{'status':_0x429c43,'statusCode':_0x51f982,'headers':_0x2ebb86,'rawBody':_0x64ac66,'body':_0x36899d},_0x36899d);},_0xf546b1=>{const _0x7e5919=_0x3a9e5a,{message:_0x6206bf,response:_0x337916}=_0xf546b1;_0x34432b(_0x6206bf,_0x337916,_0x337916&&_0x9ae484[_0x7e5919(0x19d)](_0x337916[_0x7e5919(0x115)],this[_0x7e5919(0xef)]));});}}['time'](_0x2ebfc4,_0x26217f=null){const _0x5749ec=_0x46342e,_0x26861f=_0x26217f?new Date(_0x26217f):new Date();let _0x5cffab={'M+':_0x26861f['getMonth']()+0x1,'d+':_0x26861f[_0x5749ec(0x154)](),'H+':_0x26861f['getHours'](),'m+':_0x26861f[_0x5749ec(0x182)](),'s+':_0x26861f[_0x5749ec(0x112)](),'q+':Math[_0x5749ec(0x193)]((_0x26861f['getMonth']()+0x3)/0x3),'S':_0x26861f[_0x5749ec(0x149)]()};/(y+)/[_0x5749ec(0x14d)](_0x2ebfc4)&&(_0x2ebfc4=_0x2ebfc4[_0x5749ec(0x14b)](RegExp['$1'],(_0x26861f['getFullYear']()+'')[_0x5749ec(0xee)](0x4-RegExp['$1']['length'])));for(let _0x7e60be in _0x5cffab)new RegExp('('+_0x7e60be+')')['test'](_0x2ebfc4)&&(_0x2ebfc4=_0x2ebfc4[_0x5749ec(0x14b)](RegExp['$1'],0x1==RegExp['$1'][_0x5749ec(0x1a2)]?_0x5cffab[_0x7e60be]:('00'+_0x5cffab[_0x7e60be])[_0x5749ec(0xee)]((''+_0x5cffab[_0x7e60be])['length'])));return _0x2ebfc4;}[_0x46342e(0x19a)](_0x437abb){const _0x5e8a29=_0x46342e;let _0x1e0d1a='';for(const _0x1ad5a7 in _0x437abb){let _0x3f483a=_0x437abb[_0x1ad5a7];null!=_0x3f483a&&''!==_0x3f483a&&(_0x5e8a29(0x10d)==typeof _0x3f483a&&(_0x3f483a=JSON[_0x5e8a29(0x195)](_0x3f483a)),_0x1e0d1a+=_0x1ad5a7+'='+_0x3f483a+'&');}return _0x1e0d1a=_0x1e0d1a[_0x5e8a29(0x10b)](0x0,_0x1e0d1a[_0x5e8a29(0x1a2)]-0x1),_0x1e0d1a;}[_0x46342e(0x12e)](_0x136f04=_0x1019b8,_0x1007ad='',_0x4b27ac='',_0x4b5297){const _0x19c391=_0x46342e,_0x139f4c=_0x22a6eb=>{const _0x5a9b03=_0x38a8;switch(typeof _0x22a6eb){case void 0x0:return _0x22a6eb;case _0x5a9b03(0xff):switch(this['getEnv']()){case _0x5a9b03(0x17a):case _0x5a9b03(0x13f):default:return{'url':_0x22a6eb};case _0x5a9b03(0x155):case _0x5a9b03(0xf2):return _0x22a6eb;case _0x5a9b03(0x156):return{'open-url':_0x22a6eb};case _0x5a9b03(0x160):return;}case _0x5a9b03(0x10d):switch(this[_0x5a9b03(0x126)]()){case'Surge':case _0x5a9b03(0x13f):case'Shadowrocket':default:{let _0x240b2c=_0x22a6eb[_0x5a9b03(0x171)]||_0x22a6eb[_0x5a9b03(0x170)]||_0x22a6eb[_0x5a9b03(0x11a)];return{'url':_0x240b2c};}case _0x5a9b03(0x155):{let _0x5c9ccc=_0x22a6eb['openUrl']||_0x22a6eb[_0x5a9b03(0x171)]||_0x22a6eb[_0x5a9b03(0x11a)],_0x313091=_0x22a6eb[_0x5a9b03(0x11f)]||_0x22a6eb[_0x5a9b03(0x139)];return{'openUrl':_0x5c9ccc,'mediaUrl':_0x313091};}case _0x5a9b03(0x156):{let _0x2ddcf3=_0x22a6eb[_0x5a9b03(0x11a)]||_0x22a6eb[_0x5a9b03(0x171)]||_0x22a6eb[_0x5a9b03(0x170)],_0x1f86a1=_0x22a6eb['media-url']||_0x22a6eb[_0x5a9b03(0x11f)],_0x37a8b1=_0x22a6eb['update-pasteboard']||_0x22a6eb[_0x5a9b03(0x103)];return{'open-url':_0x2ddcf3,'media-url':_0x1f86a1,'update-pasteboard':_0x37a8b1};}case _0x5a9b03(0x160):return;}default:return;}};if(!this[_0x19c391(0x168)])switch(this['getEnv']()){case _0x19c391(0x17a):case _0x19c391(0x155):case _0x19c391(0x13f):case _0x19c391(0xf2):default:$notification[_0x19c391(0x146)](_0x136f04,_0x1007ad,_0x4b27ac,_0x139f4c(_0x4b5297));break;case _0x19c391(0x156):$notify(_0x136f04,_0x1007ad,_0x4b27ac,_0x139f4c(_0x4b5297));break;case _0x19c391(0x160):}if(!this['isMuteLog']){let _0x32cbc8=['',_0x19c391(0x174)];_0x32cbc8[_0x19c391(0x124)](_0x136f04),_0x1007ad&&_0x32cbc8[_0x19c391(0x124)](_0x1007ad),_0x4b27ac&&_0x32cbc8[_0x19c391(0x124)](_0x4b27ac),console[_0x19c391(0x132)](_0x32cbc8[_0x19c391(0x166)]('\x0a')),this[_0x19c391(0x158)]=this[_0x19c391(0x158)][_0x19c391(0x189)](_0x32cbc8);}}[_0x46342e(0x132)](..._0x49831c){const _0x14af05=_0x46342e;_0x49831c[_0x14af05(0x1a2)]>0x0&&(this[_0x14af05(0x158)]=[...this[_0x14af05(0x158)],..._0x49831c]),console[_0x14af05(0x132)](_0x49831c[_0x14af05(0x166)](this[_0x14af05(0xfe)]));}[_0x46342e(0x15f)](_0x39723b,_0xb6c3b6){const _0x52f9e2=_0x46342e;switch(this[_0x52f9e2(0x126)]()){case _0x52f9e2(0x17a):case _0x52f9e2(0x155):case _0x52f9e2(0x13f):case _0x52f9e2(0xf2):case _0x52f9e2(0x156):default:this[_0x52f9e2(0x132)]('','❗️'+this['name']+_0x52f9e2(0x187),_0x39723b);break;case'Node.js':this['log']('','❗️'+this[_0x52f9e2(0x1a0)]+',\x20错误!',_0x39723b['stack']);}}[_0x46342e(0x142)](_0x2a13ac){return new Promise(_0x4643a5=>setTimeout(_0x4643a5,_0x2a13ac));}[_0x46342e(0x109)](_0x2faa74={}){const _0x126d4f=_0x46342e,_0x528172=new Date()[_0x126d4f(0x162)](),_0x210a80=(_0x528172-this[_0x126d4f(0x16c)])/0x3e8;switch(this[_0x126d4f(0x132)]('','🔔'+this['name']+_0x126d4f(0x107)+_0x210a80+'\x20秒'),this[_0x126d4f(0x132)](),this[_0x126d4f(0x126)]()){case _0x126d4f(0x17a):case'Loon':case _0x126d4f(0x13f):case _0x126d4f(0xf2):case _0x126d4f(0x156):default:$done(_0x2faa74);break;case'Node.js':process[_0x126d4f(0x12a)](0x1);}}}(_0x1019b8,_0x213fe3);}
